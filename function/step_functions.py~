import handler.datLoad as datLoad

class choose_function:
    def __init__(self,step):

        self.step=step
    def function(self,routine):
        print(self)
        self.routine=routine
        print('Testfunktion von',self.step)




class Loop: # Schleife über - Liste, pandas, dict...   
# macht eigentlich das gleiche, wie routine, es könnte aber nützlich sein, routine immer als namespace zu benutzen, um Variablennamen sinnvoll zu nutzen.


    def __init__(self,step):

        self.step=step

    def function(self,routine):
        self.routine=routine
        print(self.routine.Datasets['Dataset1'])
        for data_i in self.routine.Datasets['Dataset1']:
            print('data_i',data_i)
            for step_i in self.step.Loop.Steps:
                 step_i.function.function(self.routine)

class create_Array_Variable:
    def __init__(self,step):

        self.step=step
        self.ArgumentList=[['Variable_Name','str'],['Column','Columnname']] ## List in order to keep ordering
    def function(self,routine):
        self.routine=routine
        print(datLoad.datLoad(self.step.MainLoop.Datasets['Dataset1'][0]).data[self.step.Column_Combo.currentText()])
        
        #setattr(self.routine,getattr(self.step,'Variable_Name_Edit').text(),datLoad.datLoad(getattr(self.step,'Column_Combo').currentText()))
        #print(getattr(self.step,'Variable_Name_Edit').currentText(),getattr(self.routine,getattr(self.step,'Variable_Name_Edit').text()))
       


class Plot:
    def __init__(self,step):
        self.step=step
        self.ArgumentList=[['X_Var','str'],['Y_Var','str']]

    def function(self,routine):
        self.routine=routine
        print('still to be implemented')

class fit_Function:
    def __init__(self,step):
        self.step=step
    def function(self,routine):
        self.routine=routine
        print('Not implemented so far')

